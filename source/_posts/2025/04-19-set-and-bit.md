---
layout: post
title: ä»é›†åˆè®ºåˆ°ä½è¿ç®—ï¼Œå¸¸è§ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“ï¼
categories:
  - ğŸ’» æŠ ç‚¹ç®—æ³•
tags: [é›†åˆè®º, ä½è¿ç®—, äºŒæœºåˆ¶]
index_img: https://cdn.jsdelivr.net/gh/lazypool/blog-pics/animals/00017.jpg
date: 2025-04-19 12:51:21
---

# ä»¥é›†åˆè®ºä¸ºæŒ‡å¯¼ï¼Œåˆ©ç”¨ä½è¿ç®—å®ç°å¤æ‚æ“ä½œï¼

![é›†åˆäº¤ï¼ŒæŒ‰ä½ä¸](union_bitand.png)

æœ¬ç¯‡åšå®¢å—åˆ° [çµèŒ¶å±±è‰¾åºœ](https://leetcode.cn/discuss/post/3571304/cong-ji-he-lun-dao-wei-yun-suan-chang-ji-enve/) çš„å¯å‘ï¼Œå¹¶ç»“åˆäº†è‡ªå·±åœ¨å®è·µè¿‡ç¨‹ä¸­çš„ç»éªŒã€‚ç»å®è·µï¼Œåœ¨é›†åˆè®ºçš„æŒ‡å¯¼ä¸‹ä½¿ç”¨ä½è¿ç®—èƒ½å¤Ÿå¤§å¤§åœ°æé«˜å¯¹æŸäº›é—®é¢˜çš„æ±‚è§£æ•ˆç‡å’Œè´¨é‡ã€‚ **æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ä½è¿ç®—å¯ä»¥æå¤§å‡å°‘å†…å­˜å ç”¨ï¼Œè€ŒåŒæ—¶å°†æ—¶é—´å¤æ‚åº¦é™ä½è‡³ä¸ä½¿ç”¨å¤æ‚çš„æ•°æ®ç»“æ„ç›¸å½“ã€‚**

## æˆ‘ä»¬å…ˆæ¥çœ‹å¦‚ä¸‹ä¾‹é¢˜

**ä¸–ç•Œæ¯èµ¢å®¶**
> **é¢˜ç›®æè¿°**
> å‡è®¾æœ‰ n åœºæ¯”èµ›ï¼Œæ¯åœºæ¯”èµ›å‡åˆ†å‡ºèƒœè´Ÿï¼Œæ²¡æœ‰å¹³å±€ã€‚è¯·æ‰¾å‡ºæ²¡æœ‰è¾“æ‰ä»»ä½•æ¯”èµ›ï¼Œä¸”è‡³å°‘å‚åŠ äº†ä¸€åœºæ¯”èµ›çš„å…¨éƒ¨å›½å®¶ï¼Œå¹¶æŒ‰å›½å®¶ç¼–å·é€’å¢è¾“å‡ºï¼›è‹¥ä¸å­˜åœ¨è¿™æ ·çš„å›½å®¶ï¼Œè¾“å‡ºç©ºåˆ—è¡¨ã€‚

> **å…³äºè¾“å…¥**
> æ­£æ•´æ•° nï¼Œè¡¨ç¤ºæ¯”èµ›åœºæ•°ã€‚åŒ…å« n ä¸ªå…ƒç»„çš„åˆ—è¡¨ arrã€‚å…¶ä¸­æ¯ä¸ªå…ƒç»„ç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆï¼Œç¬¬ä¸€ä¸ªæ˜¯è·èƒœçš„å›½å®¶ç¼–å·ï¼Œç¬¬äºŒä¸ªæ˜¯å¤±è´¥çš„å›½å®¶ç¼–å·ã€‚æ¯”èµ›åœºæ•°å’Œå›½å®¶ç¼–å·å‡ä»‹äº \[1, 100000\]ã€‚

> **å…³äºè¾“å‡º**
> åˆ—è¡¨ï¼ŒåŒ…å«æ²¡æœ‰è¾“æ‰ä»»ä½•æ¯”èµ›çš„å…¨éƒ¨å›½å®¶ç¼–å·ï¼Œä½†ä¸åŒ…æ‹¬é‚£äº›æ²¡æœ‰å‚ä¸è¿‡ä»»ä½•ä¸€åœºæ¯”èµ›çš„å›½å®¶ã€‚åˆ—è¡¨çš„æœ€å¤§é•¿åº¦æ˜¾ç„¶ä¸º 1000000ã€‚

**å¸¸è§„è§£æ³•**
```python
def solution(n: int, arr: List[Tuple[int, int]]) -> List[int]:
    winners, losers = set(), set()
    for winner, loser in arr:
        winners.add(winner)
        losers.add(loser)
    ret = sorted(winners - losers)
    return ret
```

**ä½¿ç”¨ä½è¿ç®—çš„è§£æ³•**
```python
def solution(n: int, arr: List[Tuple[int, int]]) -> List[int]:
    winners = losers = 0
    for winner, loser in arr:
        winners |= 1 << winner
        losers |= 1 << loser
    combined = winners & ~losers
    ret = list()
    while combined:
        lsb = combined & -combined
        ret.append(lsb.bit_length() - 1)
        combined &= combined - 1
    return ret
```

| **ç®—æ³•**       | **æ—¶é—´å¤æ‚åº¦**    | **ç©ºé—´å¤æ‚åº¦** | **å…³é”®ç‚¹**                               |
|----------------|-------------------|----------------|------------------------------------------|
| **å¸¸è§„è§£æ³•**   | $O(N + K \log K)$ | $O(U)$         | é›†åˆä¸æ’åºä¸»å¯¼æ—¶é—´ï¼Œç©ºé—´å–å†³äºå›½å®¶æ•°é‡   |
| **ä½è¿ç®—è§£æ³•** | $O(N + K)$        | $O(M)$         | ä½è¿ç®—å’Œéå†ä¸»å¯¼æ—¶é—´ï¼Œç©ºé—´å–å†³äºç¼–å·å¤§å° |

- å¸¸è§„è§£æ³•éå†æ‰€æœ‰æ¯”èµ›åï¼Œæ±‚å·®é›†å¹¶æ’åºï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º $O(N + W + K \log K)$ã€‚$N$ ä¸º `arr` é•¿åº¦ï¼›$W$ ä¸º `winners` é›†åˆå¤§å°ã€å¯å¿½ç•¥ä¸è®°ï¼›$K$ ä¸ºç»“æœé›†åˆçš„å¤§å°ã€‚å¸¸è§„è§£æ³•ç”¨åˆ°äº† 2 ä¸ªé›†åˆï¼Œé›†åˆçš„å¤§å°å–å†³äºå›½å®¶çš„æ•°é‡ $U$ã€‚
- ä½è¿ç®—è§£æ³•ç”¨å¤§æ•´æ•°ä»£æ›¿é›†åˆï¼Œç”¨ `|=` æ“ä½œä»£æ›¿é›†åˆçš„ `add()` æ“ä½œï¼Œç»“æœæ— éœ€æ’åºï¼Œç›´æ¥éå†è¾“å‡ºï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º $O(N + K)$ã€‚å®ƒä½¿ç”¨ä¸¤ä¸ªå¤§æ•´æ•°æ¥å­˜å‚¨ `winners` å’Œ `losers`ã€‚å‡è®¾å›½å®¶çš„æœ€å¤§ç¼–å·ä¸º $M$ï¼Œé‚£ä¹ˆå®ƒéœ€è¦ $2M$ ä½ç©ºé—´ã€‚
- å¸¸è§„è§£æ³•é€‚åˆå›½å®¶ç¼–å·èŒƒå›´è¾ƒå¤§ä½†å®é™…å‚ä¸å›½å®¶è¾ƒå°‘ï¼ˆ$U << M$ï¼‰çš„æƒ…å†µï¼Œä½è¿ç®—è§£æ³•é€‚åˆå›½å®¶ç¼–å·èŒƒå›´è¾ƒå°ï¼ˆå¦‚ $M \le 64$ï¼‰ä¸”ç»“æœæ•°é‡ $K$ è¾ƒå¤§çš„åœºæ™¯ï¼Œé¿å…æ’åºå¼€é”€ã€‚

## ä»é›†åˆåˆ°ä½è¿ç®—ï¼šæ¦‚å¿µè§£æ
